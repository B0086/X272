using Fiddler;

class Program
{
    static void Main(string[] args)
    {
        // Fiddler'in başlatılması
        Fiddler.FiddlerApplication.Startup(8877, true, true);

        // Tüm isteklerin dinlenmesi
        Fiddler.FiddlerApplication.BeforeRequest += FiddlerApplication_BeforeRequest;

        Console.WriteLine("Fiddler başlatıldı. Çıkmak için bir tuşa basın.");
        Console.ReadKey();

        // Fiddler'in kapatılması
        Fiddler.FiddlerApplication.Shutdown();
    }

    private static void FiddlerApplication_BeforeRequest(Session session)
    {
        // Örnek olarak URL'yi güncelleme
        if (session.fullUrl.Contains("example.com"))
        {
            session.fullUrl = session.fullUrl.Replace("example.com", "updated.example.com");
        }
    }
}
