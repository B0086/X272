using System;
using System.Net;
using System.IO;

class Program
{
    static void Main(string[] args)
    {
        string originalUrl = "http://45.13.227.206";
        string redirectUrl = "http://185.205.19.150";

        HttpListener listener = new HttpListener();
        listener.Prefixes.Add(originalUrl + "/");
        listener.Start();

        Console.WriteLine("Listening for requests...");

        while (true)
        {
            HttpListenerContext context = listener.GetContext();
            HttpListenerRequest request = context.Request;
            HttpListenerResponse response = context.Response;

            // Redirecting the request
            HttpWebRequest redirectRequest = (HttpWebRequest)WebRequest.Create(redirectUrl + request.RawUrl);
            redirectRequest.Method = request.HttpMethod;

            using (HttpWebResponse redirectResponse = (HttpWebResponse)redirectRequest.GetResponse())
            {
                using (Stream stream = redirectResponse.GetResponseStream())
                {
                    response.ContentType = redirectResponse.ContentType;
                    byte[] buffer = new byte[4096];
                    int bytesRead;
                    while ((bytesRead = stream.Read(buffer, 0, buffer.Length)) > 0)
                    {
                        response.OutputStream.Write(buffer, 0, bytesRead);
                    }
                }
            }

            response.Close();
        }
    }
}
